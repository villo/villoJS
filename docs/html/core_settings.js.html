<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="css/docbody.css">
    <link rel="stylesheet" type="text/css" href="css/doc.css">
	<title>joDoc</title>
</head>
<body>
<h1><a name="villo.settings.load">villo.settings.load</a></h1>

<p>Load your applications settings, which have been set through villo.settings.save. Villo Settings uses villo.storage to store the settings, in addition to using local settings to fall back on. Additionally, Villo Settings is designed to handle JSON, and saves the settings object to the object villo.app.settings.</p>

<h2>   Calling</h2>

<p><code><a href="core_settings.js.html#villo.settings.load">villo.settings.load</a>({instant: boolean, callback: function})</code></p>

<ul>
<li>"Callback" is a function that is when the settings are loaded. The settings stored in the villo.app.settings object is passed to the callback. The callback function is not required if you set the "instant" parameter to true.</li>
<li>The "instant" parameter can be set to true if you wish to only retrieve the latest settings, and not the use the settings stored on the server. This parameter defaults to false, and is not required.</li>
</ul>

<h2>Returns</h2>

<p>If the "instant" parameter is set to true, then the function will return the villo.app.settings object.</p>

<h2>Callback</h2>

<p>The most recent settings object (villo.app.settings) will be passed to the callback.</p>

<h2>Use</h2>

<p>Example use with instant off:</p>

<pre><code><a href="core_settings.js.html#villo.settings.load">villo.settings.load</a>({
    instant: false,
    callback: function(prefs){
        //Settings are now loaded. We can grab a specific aspect of the callback object now:
        var prefOne = prefs.preferenceOne;
        //We can also load from the villo.app.settings object:
        var prefTwo = villo.app.settings.preferenceTwo;
    }
});
</code></pre>

<p>Example use with instant on:</p>

<pre><code>var prefs = <a href="core_settings.js.html#villo.settings.load">villo.settings.load</a>({instant: true});
//Settings are now loaded. We can grab a specific aspect of the return object now:
var prefOne = prefs.preferenceOne;
//We can also load from the villo.app.settings object:
var prefTwo = villo.app.settings.preferenceTwo;
</code></pre>

<h2>Notes</h2>

<p>When the settings are loaded, they are saved in villo.app.settings.</p>

<p>Villo Settings are loaded when the app is launched, allowing you to access villo.app.settings from the start of your application.</p>

<p>If your application is currently offline, then Villo will load the local version of the settings.</p>

<p>When you set the settings through villo.settings.save, the settings are timestamped and uploaded to the server. When you use <a href="core_settings.js.html#villo.settings.load">villo.settings.load</a>, the latest version of settings are loaded.</p>

<p>Villo Settings uses the privacy feature in villo.storage, which encrypts the settings on the server.</p>

<p>If the version of the settings on the server are older than the settings on your device, then the server will be updated with the local settings.</p>

</body>
</html>

